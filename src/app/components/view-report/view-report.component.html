<app-navbar></app-navbar>
<!-- Loading Spinner -->


  <tui-loader class="h-65" size="l"  [inheritColor]="true" [overlay]="true" [showLoader]="true" *ngIf="loader">
  </tui-loader>


<div *ngIf="!loader">
  <div class="grid lg:grid-cols-3 gap-4" *ngIf="report?.length; else elseBlock">
    <div class="col-span-3 lg:col-span-2">

      <tui-island>
        <p class="tui-text_h4 p-4" *ngFor="let marks of report">{{marks.student_name}} Report Card</p>

        <table class="tui-table tui-table_layout_fixed tui-table__tr_cursor_pointer tui-table__tr_border_top mt-5">
          <tbody>
            <tr class="tui-table__tr">
              <th class="tui-table__th tui-table__th_text_center tui-table__th_font-size_l">Subject</th>
              <th class="tui-table__th tui-table__th_text_center tui-table__th_font-size_l">Marks</th>
            </tr>

            <tr class="tui-table__tr" *ngFor="let marks of report">
              <td class="tui-table__td tui-table__td_font-size_s tui-table__td_text_center">Maths</td>
              <td class="tui-table__td tui-table__td_font-size_s tui-table__td_text_center">{{marks.maths}}</td>
            </tr>

            <tr class="tui-table__tr" *ngFor="let marks of report">
              <td class="tui-table__td tui-table__td_font-size_s tui-table__td_text_center">Science</td>
              <td class="tui-table__td tui-table__td_font-size_s tui-table__td_text_center">{{marks.science}}</td>
            </tr>

            <tr class="tui-table__tr" *ngFor="let marks of report">
              <td class="tui-table__td tui-table__td_font-size_s tui-table__td_text_center">English</td>
              <td class="tui-table__td tui-table__td_font-size_s tui-table__td_text_center">{{marks.english}}</td>
            </tr>

            <tr class="tui-table__tr" *ngFor="let marks of report">
              <td class="tui-table__td tui-table__td_font-size_s tui-table__td_text_center">Total</td>
              <td class="tui-table__td tui-table__td_font-size_s tui-table__td_text_center">{{marks.maths +
                marks.english
                + marks.english}}</td>
            </tr>

            <tr class="tui-table__tr" *ngFor="let marks of report">
              <td class="tui-table__td tui-table__td_font-size_s tui-table__td_text_center">Average</td>
              <td class="tui-table__td tui-table__td_font-size_s tui-table__td_text_center">{{(marks.maths +
                marks.english
                + marks.english)/3 | number : '.2-2'}}</td>
            </tr>

          </tbody>
        </table>
      </tui-island>

    </div>



    <div class="col-span-3 lg:col-span-1">

      <tui-island>
        <div class="wrapper mx-auto">
          <tui-arc-chart size="xl" class="tui-space_right-4 mx-auto" [value]="getValues"
            [(activeItemIndex)]="activeItemIndex">
            <div>Not bad!</div>
          </tui-arc-chart>
        </div>


        <div class="flex mx-auto">

          <div class="basis-1/3">
          </div>


          <tui-tag status="custom" class="tag tag-bg-maths" [hoverable]="true" [value]="tagMaths"></tui-tag>
          <tui-tag status="custom" class="tag tag-bg-science" [hoverable]="true" [value]="tagScience"></tui-tag>
          <tui-tag status="custom" class="tag tag-bg-english" [hoverable]="true" [value]="tagEnglish"></tui-tag>


          <div class="basis-1/3">
          </div>

        </div>
      </tui-island>
      <div class="col-span-3 lg:col-span-1 mt-4">
        <tui-island>
          <div class="flex flex-wrap ">
            <div class="w-full mx-auto">
              <button appearance="accent" tuiButton size="s" class="w-full" icon="tuiIconEdit"
                (click)="edit(report.id)">
                Edit Report
              </button>
            </div>

            <div class="w-full mx-auto mt-2">
              <tui-root>
              <button appearance="custom" tuiButton type="button" size="s" class="w-full delete-bg-button"
                icon="tuiIconTrash2" (click)="delete(report)">
                Delete Report
              </button>
            </tui-root>
            </div>

          </div>
        </tui-island>
      </div>
    </div>
  </div>
</div>


<ng-template #elseBlock>
  <app-no-data></app-no-data>
</ng-template>